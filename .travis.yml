language: php

sudo: false

before_install:
    - composer self-update

before_script: echo "extension = memcached.so" >> ~/.phpenv/versions/$(phpenv version-name)/etc/php.ini

install:
    - composer install --dev
    - cp .env.dist .env

script: phpunit -c app

matrix:
    include:
        - php: 5.4
          env: COMPOSER_FLAGS="--prefer-lowest"
        - php: 5.4
        - php: 5.5
        - php: 5.6
        # memcached not available for php 7 on Travis
        #- php: 7.0
    fast_finish: true